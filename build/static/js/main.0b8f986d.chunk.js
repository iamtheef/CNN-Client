(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n.n(c),i=n(34),s=n.n(i),o=(n(115),n(102)),u=n.n(o),l={background:{color:{value:"#1e1e1e"}},fpsLimit:100,interactivity:{detectsOn:"canvas",events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{bubble:{distance:200,duration:1,opacity:.8,size:40},push:{quantity:3},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"none",enable:!0,outMode:"bounce",random:!1,speed:6,straight:!1},number:{density:{enable:!0,value_area:800},value:80},opacity:{value:.3},shape:{type:"circle"},size:{random:!0,value:5}},detectRetina:!0},j=function(){return Object(a.jsx)(u.a,{className:"particles",canvasClassName:"canvas",options:l})},b=n(13),f=n.n(b),d=n(31),p=n(17),h=n(314),O=function(e){return new Promise((function(t){return setTimeout(t,e)}))},x=function(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],i="Hi human. It's not the time to take over yet...but it will be soon. For now I can only recognize cats and dogs, so you don't have to be afraid, for now.",s=function(){var e=Object(d.a)(f.a.mark((function e(){var t,n,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=!1,a=f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r((function(e){return e+i.charAt(a)})),"."!==i.charAt(a)){e.next=4;break}return e.next=4,O(520);case 4:if("d"===i.charAt(a)&&t++,4!==t||n){e.next=9;break}return e.next=8,O(1200);case 8:n=!0;case 9:if(","!==i.charAt(a)){e.next=12;break}return e.next=12,O(200);case 12:return e.next=14,O(70);case 14:case"end":return e.stop()}}),e)})),c=0;case 4:if(!(c<i.length)){e.next=9;break}return e.delegateYield(a(c),"t0",6);case 6:c++,e.next=4;break;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s()}),[]),Object(a.jsx)(h.a,{expand:"lg",className:"monolog",children:Object(a.jsx)("p",{className:"text",children:n})})},v=n(308),m=n(309),g=n(310),k=n(109),w=n(106),C=n(313),L=function(e){var t=Object(c.useState)(e),n=Object(p.a)(t,2),a=n[0],r=n[1];return[a,function(e){r(e)},function(){r("")}]},y=Object(c.createContext)(void 0);function N(e){var t=e.children,n="or upload an image",r=Object(c.useState)(n),i=Object(p.a)(r,2),s=i[0],o=i[1],u=L(""),l=Object(p.a)(u,3),j=l[0],b=l[1],f=l[2],d=L(""),h=Object(p.a)(d,3),O=h[0],x=h[1],v=h[2],m=Object(c.useState)(!0),g=Object(p.a)(m,2),k=g[0],w=g[1],C=function(e){var t=Object(c.useState)(e),n=Object(p.a)(t,2),a=n[0],r=n[1];return[a,function(e){r(e)},function(){r(void 0)}]}(void 0),N=Object(p.a)(C,3),I=N[0],P=N[1],S=N[2];return Object(a.jsx)(y.Provider,{value:{filename:s,input:j,file:I,isLink:k,imgPreview:O,handleLink:function(e){w(!0),S(),o(n),b(e.target.value),v()},setIsLink:w,handleFile:function(e){e.target.files&&(w(!1),P(e.target.files[0]),o(e.target.files[0].name),b(e.target.files[0].name),x(URL.createObjectURL(e.target.files[0])))},resetInput:f},children:t})}var I=function(){var e=Object(c.useContext)(y),t=e.handleLink,n=e.handleFile,r=e.filename,i=e.isLink,s=e.setIsLink,o=e.resetInput,u=e.input;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{className:"main-form",children:Object(a.jsxs)(m.a,{className:"mb-3",children:[Object(a.jsxs)(g.a,{drop:"up",as:m.a.Prepend,title:i?"Link":"File",children:[Object(a.jsx)(k.a.Item,{href:"#",onClick:function(){return s(!0)},children:"Link"}),Object(a.jsx)(k.a.Item,{href:"#",onClick:function(){return s(!1)},children:"File"})]}),Object(a.jsx)("div",{className:"x-icon",onClick:function(){var e;o(),null===(e=document.getElementById("form"))||void 0===e||e.focus()},children:"X"}),Object(a.jsx)(w.a,{style:{color:"#808e7d"},id:"form",placeholder:"Paste a link",value:i?u:"",onChange:function(e){return t(e)}}),Object(a.jsx)(C.a.File,{label:r,lang:"en",custom:!0,onChange:function(e){return n(e)}})]})})})},P=n(312),S=function(e){var t=[],n=e.input,a=e.isLink,c=e.file;return a&&0===n.length&&t.push("Please fill in a link."),c&&!function(e){var t=null===e||void 0===e?void 0:e.type.split("/")[1];return!!["png","jpg","jpeg"].includes(t)}(c)&&t.push("Not supported type of file."),a||c||t.push("Please select a file."),{isOK:0===t.length,errors:t}},F=n(108),A=n.n(F).a.create({baseURL:"http://18.158.52.156:4000",timeout:3e4,headers:{"X-Custom-Header":"foobar","Content-Type":"application/json"}}),E=function(){var e=Object(d.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t,t.name),e.abrupt("return",new Promise((function(e,t){A.post("/upload/",n).then((function(t){e(t.data)})).catch((function(e){t(e)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(12),z=Object(c.createContext)(void 0);function R(e){var t=e.children,n=Object(c.useState)({success:!1,message:void 0}),r=Object(p.a)(n,2),i=r[0],s=r[1],o=Object(c.useContext)(y),u=o.file,l=o.isLink,j=o.input,b=Object(c.useState)(""),h=Object(p.a)(b,2),x=h[0],v=h[1],m=Object(c.useState)(!1),g=Object(p.a)(m,2),k=g[0],w=g[1],C=Object(c.useState)(0),L=Object(p.a)(C,2),N=L[0],I=L[1],P=Object(c.useState)(!0),F=Object(p.a)(P,2),R=F[0],B=F[1],H=Object(T.f)();Object(c.useEffect)((function(){return B(!0),function(){B(!1)}}),[]);var U=function(){var e=Object(d.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(N+1),O(2e3).then((function(){I(0)})),4===N&&H.push("/easter"),!(N>0)&&R){e.next=3;break}return e.abrupt("return");case 3:if(!(n=S(t={file:u,isLink:l,input:j})).isOK){e.next=20;break}if(v(""),w(!0),l||!u){e.next=17;break}return e.prev=9,e.next=12,E(u);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),v(e.t0.message);case 17:A.post("/predict/",t).then((function(e){200===e.status?(s(e.data),w(!1)):(v(e.statusText.toLowerCase()),w(!1))})).catch((function(e){w(!1),v(e.message)})),e.next=21;break;case 20:v(n.errors[0]);case 21:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(z.Provider,{value:{prediction:i,setPrediction:s,predict:U,error:x,setError:v,isLoading:k},children:t})}var B=n(107),H=function(){var e=Object(c.useContext)(y),t=e.input,n=e.isLink,r=e.imgPreview;return Object(a.jsxs)(v.a,{children:[Object(a.jsx)(B.a,{}),Object(a.jsx)(B.a,{children:Object(a.jsx)("img",{src:n?t:r,alt:"",id:"input-canvas"})})]})},U=n(105),D=n(311),J=n(315),K=function(){var e=Object(c.useContext)(z),t=e.error,n=e.prediction;return e.isLoading?Object(a.jsx)(B.a,{children:Object(a.jsx)(D.a,{animation:"border",variant:"light",className:"spinner"})}):t.length>0?Object(a.jsx)(J.a,{variant:"danger",className:"message-board",children:t}):n.success?Object(a.jsx)(J.a,{variant:"success",className:"message-board",children:"It's a ".concat(n.message,"!")}):Object(a.jsx)("div",{})},M=function(){var e=Object(c.useContext)(z).predict;return Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(U.a,{variant:"light",className:"predict-button",onClick:function(){var t=Object(d.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Guess"})}),Object(a.jsx)(K,{})]})},X=n(45),q=function(){return Object(a.jsx)(X.b,{to:"/info",children:Object(a.jsx)(U.a,{variant:"light",className:"info-button",children:"Info"})})},G=function(){return Object(a.jsx)(N,{children:Object(a.jsx)(R,{children:Object(a.jsxs)(P.a,{children:[Object(a.jsx)(q,{}),Object(a.jsx)(H,{}),Object(a.jsx)(I,{}),Object(a.jsx)(M,{})]})})})},Y=n(73),_=Object(Y.a)((function(){return n.e(4).then(n.bind(null,318))})),Q=Object(Y.a)((function(){return n.e(3).then(n.bind(null,316))}));var V=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(j,{}),Object(a.jsx)(x,{}),Object(a.jsx)(X.a,{children:Object(a.jsxs)(T.c,{children:[Object(a.jsx)(T.a,{exact:!0,path:"/",component:G}),Object(a.jsx)(T.a,{exact:!0,path:"/info",component:_}),Object(a.jsx)(T.a,{exact:!0,path:"/easter",component:Q})]})})]})},W=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,317)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(302);s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(V,{})}),document.getElementById("root")),W()}},[[303,1,2]]]);
//# sourceMappingURL=main.0b8f986d.chunk.js.map